<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Vip Parse</title>
  <!-- <script>
    (function (doc, win) {
     var docEl = doc.documentElement,
      resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
      recalc = function () {
       var clientWidth = docEl.clientWidth;
       if (!clientWidth) return;
       docEl.style.fontSize = 100 * (clientWidth / 2000) + 'px';
      };
     if (!doc.addEventListener) return;
     win.addEventListener(resizeEvt, recalc, false);
     doc.addEventListener('DOMContentLoaded', recalc, false);
    })(document, window);
   </script> -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, shrink-to-fit=no,user-scalable=0">
  <link rel="icon" href="http://pic.yupoo.com/owendawn/7d83eaa2/ac62287a.png" type="image/x-icon" />
  <meta name="Keywords" content="vip解析,个人使用请勿用于商用传播">
  <meta name="Description" content="vip解析,个人使用请勿用于商用传播">
  <script crossorigin="anonymous" src="https://lib.baomitu.com/vue/2.6.11/vue.min.js"></script>
  <!-- 引入样式 -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/mint-ui@1/lib/style.css"> -->
  <link href="https://cdn.bootcdn.net/ajax/libs/mint-ui/2.2.13/style.min.css" rel="stylesheet">
  <!-- 引入组件库 -->
  <!-- <script src="https://unpkg.com/mint-ui@1/lib/index.js"></script> -->
  <script src="https://cdn.bootcdn.net/ajax/libs/mint-ui/2.2.13/index.js"></script>
  <!-- 基础样式 -->
  <link href="./asserts/base.css" rel="stylesheet">
  <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
</head>

<body style="overflow: hidden;">
  <style>
    .mint-cell-wrapper {
      padding: 0;
    }

    .mint-cell-wrapper>.mint-cell-title {
      padding-left: 16px;
    }

    .mint-cell-value.is-link {
      margin-right: 32px;
    }

    .chooseDiv {
      background-image: linear-gradient(to top, #f1f0f0 10%, #ffffff 30%, #e2e2df 100%);
      padding: 0 6px;
      height: 1.2rem;
      /* padding-top: 0.1rem; */
      min-height: 0;
    }
    .mint-header-title {
      font-weight: bolder;
      font-size: 0.75rem;
    }
    .pickerTitle{
      /* flex-direction: row-reverse; */
      justify-content: center;
    }
  </style>
  <div id="root" style="height:100%;">
    <pan-navbar></pan-navbar>
   
    <mt-cell :title="chooseParser" class="chooseDiv">
      <mt-button type="primary" plain @click="showParserList" style="height:1rem;margin-top:0.1rem;font-size: 0.5rem;"><i class="fa fa-list"> Choose</i></mt-button>
    </mt-cell>
    <div style="height:calc(100% - 2.7rem);background-color: black;">
      <iframe width="100%" height="100%" src="" style="border:0;"></iframe>
    </div>

    
    <mt-popup v-model="showParsePop" position="bottom" style="width: calc(100% - 48px);padding: 24px;">
      <mt-picker :slots="getVipParserData()" textAlign="center" :defaultIndex="chooseParserIndex" showToolbar="true" valueKey="name" content="name" @change="toggleVipParser"
        style="width: 100%;">
      </mt-picker>
      <div style="justify-content: space-around;display:flex;margin-top:24px;">
      <mt-button type="danger" size="small" plain @click="cancelChooseParse" style="width: 30%;"><i class="fa fa-cancel"> Cancel</i></mt-button>
      <mt-button type="primary" size="small" plain @click="chooseParse" style="width: 30%;"><i class="fa fa-ok"> Ok</i></mt-button>
    </div>
    </mt-popup>
  </div>
  <script src="./asserts/navbar.js"></script>
  <script>
    new Vue({
      el: '#root',
      data: {
        showParsePop: false,
        isFull: false,
        type: null,
        parser: null,
        chooseParser: '',
        chooseParserTemp: '',
        chooseParserIndex: -1,
        vipParser: [
          { newTab: false, tengxun: true, youku: true, iqiyi: true, mangguo: false, url: "http://jiexi.071811.cc/jx.php?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "http://jx.618ge.com/?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "http://jx.618ge.com/jx/jx.php?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "http://jx.du2.cc/?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "http://vip.jlsprh.com/v/3.php?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "http://jx.598110.com/?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "http://jx.598110.com/zuida.php?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "http://jiexi.380k.com/?url=" },
          { newTab: false, tengxun: true, youku: true, iqiyi: false, mangguo: true, url: "https://2.08bk.com/?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: true, mangguo: true, url: "http://jqaaa.com/jx.php?url=" },


          { newTab: false, tengxun: true, youku: false, iqiyi: true, mangguo: false, url: "https://660e.com/?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: true, mangguo: false, url: "http://yun.mt2t.com/lines?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: true, url: "http://jsap.attakids.com/?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: true, url: "http://api.bbbbbb.me/jiexi/?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: true, url: "http://api.bbbbbb.me/jx/?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: true, url: "http://okjx.cc/?url=" },


          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: false, url: "https://jx.618g.com/?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: false, url: "https://www.administratorw.com/video.php?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: false, url: "https://www.administratorw.com/admin.php?url=" },
          { newTab: false, tengxun: true, youku: false, iqiyi: false, mangguo: false, url: "http://17kyun.com/api.php?url=" },


        ]
      },
      mounted() {
        let replaceStr='⇿'
         replaceStr='↔'
         replaceStr='↠'
         replaceStr='↝'
         replaceStr='⇴'
         replaceStr='⇝'
         replaceStr='↛'
         replaceStr='↣'
         replaceStr='⇻'
         replaceStr='↭'
        this.vipParser.forEach((it, idx, all) => {
          it.name = (it.tengxun ? 'ⓣ' : replaceStr)
            + "_" + (it.youku ? 'ⓨ' : replaceStr)
            + "_" + (it.iqiyi ? 'ⓘ' : replaceStr)
            + "_" + (it.mangguo ? 'ⓜ' : replaceStr)
            + " . " + this.getName(it.url)
            + (it.newTab ? ' +' : '');
        })
        this.chooseParser = this.vipParser[0].name
        this.chooseParserTemp = this.vipParser[0].name
        this.chooseParserIndex=0;
        // this.type = this.$refs.Navbar.type;
        // var _searchs = this.parseUrl();
        // if (_searchs.u) {
        //   var _allurl = this.uncompileStr(_searchs.u);
        //   console.log(_allurl)
        //   document.querySelectorAll('#node option').forEach(function (it, idx, all) {
        //     if (_allurl.indexOf(it.value) !== -1) {
        //       it.setAttribute('checked' , true);
        //       it.setAttribute('selected' , true);
        //       document.getElementById("vurl").value = _allurl.substring(it.value.length);
        //     }
        //   });
        //   try {
        //     document.getElementById("videoIframe").src = _allurl;
        //   } catch (e) {
        //     console.log(e);
        //   }
        // }
      },
      methods: {
        chooseParse() {
          this.showParsePop = false;
          this.chooseParser=this.chooseParserTemp;
          this.vipParser.forEach((it,idx,all)=>{
            if(it.name===this.chooseParserTemp){
              this.chooseParserIndex=idx;
            }
          })
        },
        cancelChooseParse() {
          this.showParsePop = false;
        },
        parseListFormatter() {
          console.log(arguments)
        },
        getVipParserData() {
          return [{
            divider: true,
            flex: 3,
            content: '解析策略',
            className: 'bolder pickerTitle',
            textAlign: 'middle'
          }, {
            flex: 7,
            values: this.vipParser.map((it, idx, all) => it.name),
            className: 'slot1',
            textAlign: 'left'
          }]
        },
        showParserList() {
          this.showParsePop = true;
          this.chooseParserTemp=this.chooseParser;
        },
        toggleVipParser(dom, arr) {
          console.log(arguments)
          this.chooseParserTemp=arr[0]
        },
       
        
        parseUrl() {
          var _searchs = window.location.search;
          if (_searchs.length === 0) return {};
          _searchs = _searchs.substring(1);
          var _ss = _searchs.split("&");
          var _params = {};
          for (var i = 0; i < _ss.length; i++) {
            var __o = _ss[i];
            if (__o === "") continue;
            var __os = __o.split("=");
            _params[__os[0]] = __os[1];
          }
          return _params;
        },
        getName(url) {
          url = url.replace("http://", "").replace("https://", "");
          url = url.substring(0, url.indexOf("/"));
          let arr = url.split(".");
          if (arr.length == 3) {
            return arr[1];
          } else if (arr.length === 2) {
            return arr[0];
          }
        },
        clickParse() {
          var _urlRoot = document.getElementById("node").value;
          var _vurl = document.getElementById("vurl").value;
          var _url = _urlRoot + _vurl.trim();
          for (var i = 0; i < this.vipParser.length; i++) {
            var it = this.vipParser[i];
            if (it.url == _urlRoot && it.newTab) {
              window.open(_url);
              return;
            }
          }
          window.location.href = "vipparse.html?u=" + this.compileStr(_url);
        },
        showModel() {
          if (this.isFull) {
            document.getElementsByTagName("body")[0].setAttribute("class", "");
            this.isFull = false;
            document.getElementById("compress").style = "display:none;";
            document.getElementById("expand").style = "";
          } else {
            document.getElementsByTagName("body")[0].setAttribute("class", "videomodel");
            this.isFull = true;
            document.getElementById("compress").style = "";
            document.getElementById("expand").style = "display:none;";
          }
        },
        compileStr(code) {
          var c = String.fromCharCode(code.charCodeAt(0) + code.length);
          for (var i = 1; i < code.length; i++) {
            c += String.fromCharCode(code.charCodeAt(i) + code.charCodeAt(i - 1));
          }
          return escape(c);
        },
        uncompileStr(code) {
          code = unescape(code);
          var c = String.fromCharCode(code.charCodeAt(0) - code.length);
          for (var i = 1; i < code.length; i++) {
            c += String.fromCharCode(code.charCodeAt(i) - c.charCodeAt(i - 1));
          }
          return c;
        }
      }
    })
  </script>
</body>

</html>